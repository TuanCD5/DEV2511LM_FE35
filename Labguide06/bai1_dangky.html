<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Bài tập 1 - Đăng ký khách hàng</title>
    <style>
        .error { color: red; font-size: 0.9em; font-style: italic; display: block; margin-top: 5px; }
        .form-group { margin-bottom: 15px; }
        label { display: inline-block; width: 120px; font-weight: bold; }
        input { padding: 5px; width: 200px; }
    </style>
</head>
<body>
    <h2>Đăng Ký Khách Hàng</h2>
    <form id="registerForm">
        <div class="form-group">
            <label>Họ và tên:</label>
            <input type="text" id="fullname" placeholder="Nhập họ tên">
            <span id="errName" class="error"></span>
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input type="text" id="email" placeholder="Nhập email">
            <span id="errEmail" class="error"></span>
        </div>

        <div class="form-group">
            <label>Mật khẩu:</label>
            <input type="password" id="password" placeholder="Tối thiểu 6 ký tự">
            <span id="errPass" class="error"></span>
        </div>

        <div class="form-group">
            <label>Nhập lại MK:</label>
            <input type="password" id="repassword" placeholder="Nhập lại mật khẩu">
            <span id="errRePass" class="error"></span>
        </div>

        <div class="form-group">
            <label></label>
            <input type="button" value="Đăng Ký" onclick="validateRegister()">
        </div>
    </form>

    <script>
        function validateRegister() {
            // 1. Lấy các giá trị từ DOM
            var name = document.getElementById("fullname");
            var email = document.getElementById("email");
            var pass = document.getElementById("password");
            var rePass = document.getElementById("repassword");

            // Biến kiểm tra lỗi (cờ hiệu)
            var hasError = false;

            // Hàm reset thông báo lỗi cũ
            resetError();

            // 2. Kiểm tra Họ tên
            if (name.value.trim() == "") {
                document.getElementById("errName").innerHTML = "Họ tên không được để trống";
                hasError = true;
            }

            // 3. Kiểm tra Email (Sử dụng Regular Expression như mục tiêu bài học [cite: 12])
            var emailPattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            if (email.value == "") {
                document.getElementById("errEmail").innerHTML = "Email không được để trống";
                hasError = true;
            } else if (!emailPattern.test(email.value)) {
                document.getElementById("errEmail").innerHTML = "Email không đúng định dạng";
                hasError = true;
            }

            // 4. Kiểm tra Mật khẩu
            if (pass.value == "") {
                document.getElementById("errPass").innerHTML = "Mật khẩu không được để trống";
                hasError = true;
            } else if (pass.value.length < 6) {
                document.getElementById("errPass").innerHTML = "Mật khẩu phải trên 6 ký tự";
                hasError = true;
            }

            // 5. Kiểm tra Nhập lại mật khẩu (Logic so sánh quan trọng)
            if (rePass.value == "") {
                document.getElementById("errRePass").innerHTML = "Vui lòng xác nhận mật khẩu";
                hasError = true;
            } else if (rePass.value != pass.value) {
                document.getElementById("errRePass").innerHTML = "Mật khẩu nhập lại không khớp";
                hasError = true;
            }

            // 6. Kết luận
            if (!hasError) {
                alert("Đăng ký thành công! Dữ liệu đã hợp lệ.");
            }
        }

        function resetError() {
            document.getElementById("errName").innerHTML = "";
            document.getElementById("errEmail").innerHTML = "";
            document.getElementById("errPass").innerHTML = "";
            document.getElementById("errRePass").innerHTML = "";
        }
    </script>
</body>
</html>